<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:jsf="http://xmlns.jcp.org/jsf">

    <!--<ui:composition template="/plantillas/inec_plantilla.xhtml">-->
    <ui:composition template="../../META-INF.resources.plantillas/plantillaboot.xhtml">
    <h:outputStylesheet library="webjars" name="primeflex/3.0.1/primeflex.min.css" />
        <ui:define name="contenido">
         
            <h:form id="form">
                <style>
                    .abierto label, .abierto {
                            background-color: #fef9e7  !important;
                    }
                    
                    .cerrado label, .cerrado {
                            /*background-color: #fadbd8!important;*/  
                          background-color: #def9e2!important;/*  verde       */
                    }
                    
                    .vencidos label, .vencidos {
                            /*background-color: #fadbd8!important;*/  
                          background-color: #fadbd8!important;/*  verde       */
                    }
                    
                    
                    .asignado label, .proceso {
                            background-color: #fef9e7 !important;
                            
                    }
                    
                     /* reset on the showcase style*/
                    body .ui-panelgrid .ui-panelgrid-cell {
                        background-color: transparent;
                    }

                    /* example use of styles for your form */
                    .my-heading-row {
                        background-color: var(--surface-c);
                        font-weight: bold;
                    }
                    
                   
                </style>
                
                <div class="card">
                    <p:growl id="messages" showDetail="true"/>
                    <p:panel id="parametros-busqueda-denuncias" class="ui-fluid">
                        <p:outputPanel>
                            <p:panelGrid columns="6"
                                         columnClasses="ui-grid-col-2,ui-grid-col-6,ui-grid-col-2,ui-grid-col-6"
                                         layout="grid"
                                         styleClass="ui-panelgrid-blank ui-fluid"
                                         style="border:0px none; background-color:transparent;">
                                <p:row styleClass="my-heading-row">
                                    <p:column styleClass="ui-grid-col-12">
                                        <p style="font-size: 18px">Consulta de denuncias - Parámetros de búsqueda</p>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column styleClass="ui-grid-col-4">
                                        <p:outputLabel for="@next" value="Provincia"/>
                                        <p:selectOneMenu
                                            id="dpaProvSelect_1"
                                            value="#{incidenciasBuscarControlador.provinciaSelected}"
                                            filter="true"
                                            filterMatchMode="contains"
                                            converter="omnifaces.SelectItemsConverter">
                                            <f:selectItem
                                                itemLabel="Seleccione uno"
                                                itemValue=""
                                                noSelectionOption="true" />
                                            <f:selectItems
                                                value="#{incidenciasBuscarControlador.listaDpaProvinciaSelect}"
                                                var="prov"
                                                itemLabel="#{prov.nombre}"
                                                itemValue="#{prov}" />
                                            <p:ajax
                                                event="valueChange"
                                                update="dpaCanSelect_1"
                                                process="@this"
                                                listener="#{incidenciasBuscarControlador.onChangeProvincia}" />
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column styleClass="ui-grid-col-4">
                                        <p:outputLabel for="@next" value="Cantón"/>
                                        <p:selectOneMenu
                                            id="dpaCanSelect_1"
                                            value="#{incidenciasBuscarControlador.cantonSelected}"
                                            filter="true"
                                            filterMatchMode="contains"
                                            converter="omnifaces.SelectItemsConverter">
                                            <f:selectItem
                                                itemLabel="Seleccione uno"
                                                itemValue=""
                                                noSelectionOption="true" />
                                            <f:selectItems
                                                value="#{incidenciasBuscarControlador.listaDpaCantonSelect}"
                                                var="can"
                                                itemLabel="#{can.nombre}"
                                                itemValue="#{can}" />
                                            <p:ajax
                                                event="valueChange"
                                                update="dpaCiuSelect_1"
                                                process="@this"
                                                listener="#{incidenciasBuscarControlador.onChangeCanton}" />
                                        </p:selectOneMenu>
                                    </p:column>
                                    <p:column styleClass="ui-grid-col-4">
                                        <p:outputLabel for="@next" value="Ciudad o Parroquia"/>
                                        <p:selectOneMenu
                                            id="dpaCiuSelect_1"
                                            value="#{incidenciasBuscarControlador.parroquiaSelected}"
                                            filter="true"
                                            filterMatchMode="contains"
                                            converter="omnifaces.SelectItemsConverter">
                                            <f:selectItem
                                                itemLabel="Seleccione uno"
                                                itemValue=""
                                                noSelectionOption="true" />
                                            <f:selectItems
                                                value="#{incidenciasBuscarControlador.listaDpaCiudadSelect}"
                                                var="ciu"
                                                itemLabel="#{ciu.nombre}"
                                                itemValue="#{ciu}" />
                                            <p:ajax
                                                event="valueChange"
                                                update="dpaCiuSelect"
                                                process="@this"/>
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column styleClass="ui-grid-col-4">
                                        <p:outputLabel for="inicio_1" value="Fecha inicio"/>
                                        <p:calendar id="inicio_1" value="#{incidenciasBuscarControlador.fechaInicio}" pattern="dd-MM-yyyy" mask="true"/>
                                    </p:column>
                                    <p:column styleClass="ui-grid-col-4">
                                        <p:outputLabel for="fin_1" value="Fecha fin"/>
                                        <p:calendar id="fin_1" value="#{incidenciasBuscarControlador.fechaFin}" pattern="dd-MM-yyyy" mask="true"/>
                                    </p:column>

                                </p:row>
                                <p:row>
                                    <p:column styleClass="ui-grid-col-4"/>
                                    <p:column styleClass="ui-grid-col-2">
                                        <p:commandButton 
                                            value="Buscar" 
                                            icon="pi pi-search" 
                                            actionListener="#{incidenciasBuscarControlador.listarIcidenciasPorParametro('F002')}"
                                            update="dt-denuncias parametros-busqueda-denuncias" 
                                            process="dt-denuncias parametros-busqueda-denuncias @this"
                                            style="font-size: 2rem"/>
                                    </p:column>
                                    <p:column styleClass="ui-grid-col-2">
                                        <p:commandButton 
                                            value="Limpiar" 
                                            icon="pi pi-undo" 
                                            actionListener="#{incidenciasBuscarControlador.limpiarDatos}"
                                            process="@this" 
                                            update="@form"
                                            class="ui-button-secondary"
                                            style="font-size: 2rem"/>
                                    </p:column>
                                    <p:column styleClass="ui-grid-col-4"/>
                                </p:row>

                            </p:panelGrid>
                          
                        </p:outputPanel>
                    </p:panel>
                     <br></br>
                    <p:dataTable paginator="true" 
                                   rows="10" 
                                   reflow="true" 
                                   id="dt-denuncias" 
                                   value="#{incidenciasBuscarControlador.listarIncidencias}"  
                                   var="entidad"   
                                   selectionMode="single" 
                                   rowKey="#{entidad.idDeth}" 
                                   currentPageReportTemplate="{currentPage} de {totalPages}"
                                   rowStyleClass="#{incidenciasBuscarControlador.validaTickes(entidad.val28, entidad.val20)}">  

                        <f:facet name="header">
                           <span style="font-weight: bold">LISTA DE DENUNCIAS</span>
                        </f:facet>
                        
                       <p:column   headerText="ID" filterBy="#{entidad.idDeth}" style="width: 40px;">
                            <h:outputText value="#{entidad.idDeth}"/>
                        </p:column>

                        <p:column headerText="Cédula" filterBy="#{entidad.val07}" filterMatchMode="contains">
                            <h:outputText value="#{entidad.val07}"/>
                        </p:column> 

                        <p:column headerText="Apellidos y Nombres" style="width: 200px;" filterBy="#{entidad.val08} #{entidad.val09}" filterMatchMode="contains">
                            <h:outputText value="#{entidad.val08} #{entidad.val09}" />
                        </p:column> 

                        <p:column headerText="Correo" filterBy="#{entidad.val10}" filterMatchMode="contains">
                            <h:outputText value="#{entidad.val10}"/>
                        </p:column> 

                        <p:column headerText="Tipo Denuncia" filterBy="#{entidad.val12}" filterMatchMode="contains">
                            <h:outputText value="#{entidad.val12}"/>
                        </p:column> 
                        
                        <p:column headerText="Plataforma" filterBy="#{entidad.val16}" filterMatchMode="contains">
                            <h:outputText value="#{entidad.val16}"/>
                        </p:column> 
                        
                        <p:column headerText="Provincia" filterBy="#{entidad.val02}" filterMatchMode="contains">
                            <h:outputText value="#{entidad.val02}" />
                        </p:column>
                        
                        <p:column headerText="Fecha" filterBy="#{entidad.val28}" filterMatchMode="contains">
                            <h:outputText value="#{entidad.val28}" />
                        </p:column>
                        
                        <p:column headerText="Estado" filterBy="#{entidad.val20}" filterMatchMode="contains" style="width: 85px;">
                            <div class="ui-inputgroup"  jsf:rendered="#{incidenciasBuscarControlador.validaTickes(entidad.val28, entidad.val20) eq 'abierto'}">
                                <div class="flex align-items-center justify-content-center w-8rem h-3rem bg-yellow-500 font-bold text-white border-round m-2" styleClass="ui-button-warning"><i class="pi pi-lock-open" style="font-size: 2rem;"></i>&nbsp;#{entidad.val20}</div>
                            </div>
                            <div class="ui-inputgroup"  jsf:rendered="#{incidenciasBuscarControlador.validaTickes(entidad.val28, entidad.val20)  eq 'vencidos'}">
                                <div class="flex align-items-center justify-content-center w-8rem h-3rem bg-orange-600 font-bold text-white border-round m-2" styleClass="ui-button-warning" ><i class="pi pi-lock-open" style="font-size: 2rem;"></i>&nbsp;VENCIDOS</div>
                            </div>
                            <div class="ui-inputgroup"  jsf:rendered="#{entidad.val20 eq 'CERRADO'}">
                                <div class="flex align-items-center justify-content-center w-8rem h-3rem bg-green-500 font-bold text-white border-round m-2" styleClass="ui-button-warning" ><i class="pi pi-lock" style="font-size: 2rem;"></i>&nbsp;#{entidad.val20}</div>
                            </div>
                        </p:column> 
                         <p:column headerText="Asignado" filterBy="#{entidad.val31}" filterMatchMode="contains" style="width: 85px;">
                            <h:outputText value="#{entidad.val31}" />
                        </p:column>
                        
                        <p:column style="width: 10%" exportable="false">
                            <p:commandButton   icon="pi pi-pencil" 
                                               update=":form:manage-denuncias-content"
                                               action="#{denunciasControlador.recuperarDatosDenuncias(entidad)}" 
                                               oncomplete="PF('manageDenunciasDialog').show()"
                                               styleClass="edit-button rounded-button ui-button-success"
                                               process="@this">
                                <p:resetInput target=":form:manage-denuncias-content"/>
                            </p:commandButton>
<!--                             &nbsp;
                            <p:commandButton   icon="pi pi-file-pdf" 
                                               update=":frmIniCap:msgs" 
                                               action="#{denunciasControlador.PDF2(entidad)}" 
                                               onstart="PF('dlgValidando').show();" 
                                                onsuccess="PF('dlgValidando').hide();"
                                                ajax="false"
                                                process="@all"
                                                immediate="true"
                                                styleClass="rounded-button ui-button-warning"/>-->
                        </p:column>
                    </p:dataTable>
                    
                    
                    
       
                    
                    <p:dialog
                      modal="true"
                      showEffect="fade" 
                      widgetVar="manageDenunciasDialog"
                      responsive="true"
                      height="550"
		      width="900">  
                
                            <p:outputPanel id="manage-denuncias-content" class="ui-fluid">
                               <p:outputPanel rendered="#{not empty denunciasControlador.captDetalleH}">

                                   <div class="card">
                                        <style>
                                           /* reset on the showcase style*/
                                           body .ui-panelgrid .ui-panelgrid-cell {
                                               background-color: transparent;
                                           }

                                           /* example use of styles for your form */
                                           .my-heading-row {
                                               background-color: var(--surface-c);
                                               font-weight: bold;
                                           }
                                       </style>
                                       
                                       <p:panelGrid columns="6"
                                            columnClasses="ui-grid-col-2,ui-grid-col-6,ui-grid-col-2,ui-grid-col-6"
                                            layout="grid"
                                            styleClass="ui-panelgrid-blank ui-fluid"
                                            style="border:0px none; background-color:transparent;">

                                            <p:row styleClass="my-heading-row">
                                                <p:column styleClass="ui-grid-col-12">
                                                    <p style="font-size: 18px">Modificar denuncias</p>
                                                </p:column>
                                            </p:row>
                                            <p:row>
                                                <p:column styleClass="ui-grid-col-12">
                                                    <span>Lugar de Residencia</span>
                                                    <p:divider/>
                                                </p:column>
                                             </p:row>
                                            <p:row>
                                                <p:column styleClass="ui-grid-col-4">
                                                    <p:outputLabel for="@next" value="Provincia"/>
                                                    <p:selectOneMenu
                                                        id="dpaProvSelect"
                                                        value="#{denunciasControlador.provinciaSelected}"
                                                        filter="true"
                                                        required="true"
                                                        filterMatchMode="contains"
                                                        converter="omnifaces.SelectItemsConverter"
                                                        requiredMessage="Provincia necesita ser seleccionado">
                                                        <f:selectItem
                                                            itemLabel="Seleccione uno"
                                                            itemValue=""
                                                            noSelectionOption="true" />
                                                        <f:selectItems
                                                            value="#{denunciasControlador.listaDpaProvinciaSelect}"
                                                            var="prov"
                                                            itemLabel="#{prov.nombre}"
                                                            itemValue="#{prov}" />
                                                        <p:ajax
                                                            event="valueChange"
                                                            update="dpaCanSelect"
                                                            process="@this"
                                                            listener="#{denunciasControlador.onChangeProvincia}" />
                                                    </p:selectOneMenu>
                                                </p:column>
                                                <p:column styleClass="ui-grid-col-4">
                                                    <p:outputLabel for="@next" value="Cantón"/>
                                                    <p:selectOneMenu
                                                        id="dpaCanSelect"
                                                        value="#{denunciasControlador.cantonSelected}"
                                                        filter="true"
                                                        required="true"
                                                        filterMatchMode="contains"
                                                        converter="omnifaces.SelectItemsConverter">
                                                        <f:selectItem
                                                            itemLabel="Seleccione uno"
                                                            itemValue=""
                                                            noSelectionOption="true" />
                                                        <f:selectItems
                                                            value="#{denunciasControlador.listaDpaCantonSelect}"
                                                            var="can"
                                                            itemLabel="#{can.nombre}"
                                                            itemValue="#{can}" />
                                                        <p:ajax
                                                            event="valueChange"
                                                            update="dpaCiuSelect"
                                                            process="@this"
                                                            listener="#{denunciasControlador.onChangeCanton}" />
                                                    </p:selectOneMenu>
                                                </p:column>
                                                <p:column styleClass="ui-grid-col-4">
                                                    <p:outputLabel for="@next" value="Ciudad o Parroquia"/>
                                                    <p:selectOneMenu
                                                        id="dpaCiuSelect"
                                                        value="#{denunciasControlador.parroquiaSelected}"
                                                        filter="true"
                                                        required="true"
                                                        filterMatchMode="contains"
                                                        converter="omnifaces.SelectItemsConverter">
                                                        <f:selectItem
                                                            itemLabel="Seleccione uno"
                                                            itemValue=""
                                                            noSelectionOption="true" />
                                                        <f:selectItems
                                                            value="#{denunciasControlador.listaDpaCiudadSelect}"
                                                            var="ciu"
                                                            itemLabel="#{ciu.nombre}"
                                                            itemValue="#{ciu}" />
                                                        <p:ajax
                                                            event="valueChange"
                                                            update="dpaCiuSelect"
                                                            process="@this"/>
                                                    </p:selectOneMenu>
                                                </p:column>
                                            </p:row>
                                            <p:row>
                                                <p:column styleClass="ui-grid-col-12">
                                                    <span>Infromación del Ciudadano</span>
                                                    <p:divider />
                                                </p:column>
                                            </p:row>
                                           <p:row>
                                                <p:column styleClass="ui-grid-col-4">
                                                     <p:outputLabel for="@next" value="Tipos de usuarios"/>
                                                      <p:selectOneMenu
                                                        id="idTipoUsuario"
                                                        value="#{denunciasControlador.tipoUsuario}"
                                                        filter="true"
                                                        filterMatchMode="contains"
                                                        converter="omnifaces.SelectItemsConverter">
                                                        <f:selectItem
                                                            itemLabel="Seleccione uno"
                                                            itemValue="#{null}"
                                                            noSelectionOption="true" />
                                                        <f:selectItems
                                                            value="#{denunciasControlador.listaTipoUsuario}"
                                                            var="req"
                                                            itemLabel="#{req.nombre}"
                                                            itemValue="#{req}" />
                                                        <p:ajax
                                                            event="valueChange"
                                                            update="idTipoUsuario"
                                                            process="@this"/>
                                                    </p:selectOneMenu>
                                                </p:column>
                                            </p:row>
                                            <p:row>
                                                <p:column styleClass="ui-grid-col-4">
                                                    <p:outputLabel for="@next" value="Cédula de Identidad"/>
                                                    <p:inputText id="cedula" 
                                                                 value="#{denunciasControlador.cedula}" 
                                                                 maxlength="10" 
                                                                 required="true"
                                                                 requiredMessage="Identificación no puede estar vacío">
                                                         <p:keyFilter regEx="/[0-9 ]/i"/>
                                                          <f:validator
                                                            binding="${cedulaValidador}"
                                                            for="cedula" />
                                                          
                                                         <p:ajax event="blur"
                                                                 listener="#{denunciasControlador.ConsultaCiudadanoPorCedula(actionEvent)}"
                                                                 update="nombre apellido"/>
                                                         
<!--                                                         <p:ajax event="keyup" 
                                                                update="@this, messageCedula nombre apellido"/>-->
                                                      
                                                         <p:ajax event="change"
                                                                process="@this"
                                                                update="@this, messageCedula nombre apellido"/>
                                                
                                                    </p:inputText>
                                                    <p:message id="messageCedula" for="cedula" display="icon text"/>
                                                </p:column>
                                            </p:row>
                                            <p:row>
                                                 <p:column styleClass="ui-grid-col-6">
                                                    <p:outputLabel for="@next" value="Nombres"/>
                                                    <p:inputText id="nombre" 
                                                                 value="#{denunciasControlador.nombre}"                                                     
                                                                 style="text-transform:uppercase;" 
                                                                 onkeyup="javascript:this.value=this.value.toUpperCase();"                                                        
                                                                 maxlength="50"
                                                                 required="true" 
                                                                 requiredMessage="Nombre no puede estar vacío">
                                                        <p:keyFilter regEx="/[A-Z ]/i"/>
                                                    </p:inputText>
                                                 </p:column>
                                                <p:column styleClass="ui-grid-col-6">
                                                    <p:outputLabel for="@next" value="Apellidos"/>
                                                    <p:inputText id="apellido" 
                                                                 value="#{denunciasControlador.apellido}"
                                                                 style="text-transform:uppercase;" 
                                                                 onkeyup="javascript:this.value=this.value.toUpperCase();"                                                          
                                                                 maxlength="50" 
                                                                 required="true"
                                                                 requiredMessage="Apellido no puede estar vacío">
                                                        <p:keyFilter regEx="/[A-Z ]/i"/>
                                                    </p:inputText>
                                                </p:column>
                                            </p:row>
                                            <p:row>
                                                <p:column styleClass="ui-grid-col-6">
                                                    <p:outputLabel for="@next" value="Correo"/>
                                                    <p:inputText id="correo" 
                                                                 value="#{denunciasControlador.correo}" 
                                                                 requiredMessage="Correo no tine formato correcto"   
                                                                 autocomplete="off"  
                                                                 maxlength="225">
                                                         <!--<f:validateRegex pattern="^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,6})$" />-->
                                                          <f:validator validatorId="custom.emailValidator" />
                                                          <p:ajax />
                                                    </p:inputText>
                                                </p:column>
                                                <p:column styleClass="ui-grid-col-6">
                                                    <p:outputLabel for="@next" value="Número de teléfono de su domicilio"/>
                                                    <p:inputText id="telefono" 
                                                                 value="#{denunciasControlador.telefono}" 
                                                                 maxlength="10">
                                                         <p:keyFilter regEx="/[0-9 ]/i"/>
                                                    </p:inputText>
                                                </p:column>
                                                
                                            </p:row>
                                            <p:row>
                                                <p:column styleClass="ui-grid-col-12">
                                                    <span>Información de la denuncia</span>
                                                    <p:divider />
                                                </p:column>
                                            </p:row>
                                            <p:row>
                                               <p:column styleClass="ui-grid-col-6">
                                                    <p:outputLabel for="@next" value="Tipo de Denuncia"/>
                                                    <p:selectOneMenu
                                                        id="tipoReqSelect"
                                                        value="#{denunciasControlador.tipoDenSelected}"
                                                        filter="true"
                                                        required="true"
                                                        filterMatchMode="contains"
                                                        converter="omnifaces.SelectItemsConverter">
                                                        <f:selectItem
                                                            itemLabel="Seleccione uno"
                                                            itemValue=""
                                                            noSelectionOption="true" />
                                                        <f:selectItems
                                                            value="#{denunciasControlador.listaTipoDenSelect}"
                                                            var="req"
                                                            itemLabel="#{req.nombre}"
                                                            itemValue="#{req}" />
                                                        <p:ajax
                                                            event="valueChange"
                                                            update="tipoReqSelect"
                                                            process="@this"/>
                                                    </p:selectOneMenu>


                                                </p:column>
                                                <p:column styleClass="ui-grid-col-6">
                                                    <p:outputLabel for="idPlataforma" value="Plataforma" />
                                                    <p:selectOneMenu
                                                        id="idPlataforma"
                                                        value="#{denunciasControlador.plataformaSelected}"
                                                        filter="true"
                                                        filterMatchMode="contains"
                                                        converter="omnifaces.SelectItemsConverter">
                                                        <f:selectItem
                                                            itemLabel="Seleccione uno"
                                                            itemValue="#{null}"
                                                            noSelectionOption="true" />
                                                        <f:selectItems
                                                            value="#{denunciasControlador.listaPlatSelect}"
                                                            var="req"
                                                            itemLabel="#{req.nombre}"
                                                            itemValue="#{req}" />
                                                        <p:ajax
                                                            event="valueChange"
                                                            update="idPlataforma"
                                                            process="@this"/>
                                                    </p:selectOneMenu>
                                                </p:column>
                                           </p:row>
                                            <p:row>
                                                 <p:column styleClass="ui-grid-col-12">
                                                        <p:outputLabel for="@next" value="Denuncia"/>       
                                                        <p:inputTextarea id="detalle" 
                                                                         value="#{denunciasControlador.detalleDen}"  
                                                                         style="text-transform:uppercase;" 
                                                                         onkeyup="javascript:this.value=this.value.toUpperCase();"
                                                                         required="true"
                                                                         requiredMessage="Detalle no puede estar vacío"
                                                                         counter="display"
                                                                         maxlength="1000"
                                                                         counterTemplate="{0} caracteres restantes."/>
                                                        <h:outputText id="display" class="p-d-block" />
                                                 </p:column>
                                            </p:row> 
<!--                                            <p:row>
                                                 <p:column styleClass="ui-grid-col-6">
                                                        <p:outputLabel for="@next" value="Escuela/Colegio/Universidad más cercanos"/>       
                                                        <p:inputTextarea id="escuelaColegio" 
                                                                         value="#{denunciasControlador.escuelaColegioDen}"  
                                                                         style="text-transform:uppercase;" 
                                                                         onkeyup="javascript:this.value=this.value.toUpperCase();"
                                                                         required="true"
                                                                         requiredMessage="Escuela/Colegio/Universidad  no puede estar vacío"
                                                                         counter="display"
                                                                         maxlength="1000"
                                                                         counterTemplate="{0} caracteres restantes."/>
                                                        <h:outputText id="display1" class="p-d-block" />
                                                 </p:column>
                                                <p:column styleClass="ui-grid-col-6">
                                                        <p:outputLabel for="@next" value="Otro lugar de referencia"/>       
                                                        <p:inputTextarea id="lugarReferencia" 
                                                                         value="#{denunciasControlador.lugarReferenciaDen}"  
                                                                         style="text-transform:uppercase;" 
                                                                         onkeyup="javascript:this.value=this.value.toUpperCase();"
                                                                         required="true"
                                                                         requiredMessage="Otro lugar de referencia no puede estar vacío"
                                                                         maxlength="1000"/>
                                                       
                                                 </p:column>
                                            </p:row>-->
                                            <p:row>
                                                 <p:column styleClass="ui-grid-col-12">
                                                        <p:outputLabel for="@next" value="Respuesta"/>       
                                                        <p:inputTextarea id="respuesta" 
                                                                         value="#{denunciasControlador.respuesta}"  
                                                                         style="text-transform:uppercase;" 
                                                                         onkeyup="javascript:this.value=this.value.toUpperCase();"
                                                                         required="true"
                                                                         requiredMessage="Respuesta no puede estar vacío"
                                                                         counter="display3"
                                                                         maxlength="1000"
                                                                         counterTemplate="{0} caracteres restantes."/>
                                                        <h:outputText id="display3" class="p-d-block" />
                                                 </p:column>
                                            </p:row>
                                            <p:row>
                                                <p:column styleClass="ui-grid-col-4">
                                                    <p:outputLabel for="idEstado" value="Estado" />
                                                    <p:selectOneMenu
                                                        id="idEstado"
                                                        value="#{denunciasControlador.tipoEstadoActividadSelected}"
                                                        filter="true"
                                                        required="true"
                                                        filterMatchMode="contains"
                                                        converter="omnifaces.SelectItemsConverter">
                                                        <f:selectItems
                                                            value="#{denunciasControlador.listaEstadoActividadSelect}"
                                                            var="req"
                                                            itemLabel="#{req.nombre}"
                                                            itemValue="#{req}" />
                                                        <p:ajax
                                                            event="valueChange"
                                                            update="idEstado"
                                                            process="@this"/>
                                                    </p:selectOneMenu>
                                                </p:column>
                                            </p:row>
                                            
                                        </p:panelGrid>
                                   </div>

                               </p:outputPanel>
                            </p:outputPanel>

                           <f:facet name="footer">
                               <p:commandButton value="Guardar" icon="pi pi-check" actionListener="#{denunciasControlador.modificarDenuncias}"
                                                update="manage-denuncias-content" process="manage-denuncias-content @this"
                                                styleClass="ui-button-success"
                                                style="font-size: 2rem"/>
                               <p:commandButton value="Cancelar" icon="pi pi-times" onclick="PF('manageDenunciasDialog').hide()"
                                                class="ui-button-secondary"
                                                style="font-size: 2rem"/>
                           </f:facet>

                       </p:dialog>

                 </div>
             </h:form>
        </ui:define>
    </ui:composition>
</html>